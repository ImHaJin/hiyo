<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style>
#stage{
	width:1100px;
	height:900px;
	background:white;
	margin:auto;
	position:absolute;
}
#stage1{money[r]
	width:1100px;
	height:50px;
	background:pink;
}
#stage2{
	width:1100px;
	height:800px;
}
#stage3{
	width:1100px;
	height:50px;
	background:pink;
}
</style>
<script src="../lib/Money.js"></script>
<script src="../lib/lib.js"></script>
<script src="./Snake.js"></script>
<script>
var stage;
var snakeArray=[];
var targetX=0;
var targetY=0;
var count=1;
var i=0;
	
var money= new Array();
money[0]=[		"../images/1000.png",
						"../images/5000.png",
						"../images/10000.png",
						"../images/50000.png"];

window.addEventListener("load", function(){ 
	init();
});

window.addEventListener("mousemove", function(){
	targetX=event.clientX;
	targetY=event.clientY;

});

function init(){
	stage=document.getElementById("stage");

	createSnake();	
}



//뱀 이동
function createSnake(){
	var snake = new Snake(stage, 8,8,-100,-100,"../images/rockman.png");
	snake.init();
	snake.img.id="s"+count;

	snake.targetX=targetX;
	snake.targetY=targetY;

	if(count>50){ //20개만을 유지하기
		i++;
		var obj=document.getElementById("s"+i);
		console.log(obj.id);
		obj.parentElement.removeChild(obj);
	}
	count++;
	//setTimeout("createSnake()", 20);
}

function random(){
	var r = Math.random;
	document.write(parseInt(r*money.length));
}
//저장된것을 실행해보자
window.addEventListener("load", function(){						
	stage=document.getElementById("stage");					 
	
	stage.style.width=stage.width+"px";
	stage.style.height=stage.height+"px";						
});	

//게임시작 버튼 클릭시 돈 나타나기
window.addEventListener("keydown", function(){
	if(event.keyCode==32){
		var r=parseInt(Math.random()*money.length);
	
		var rx=getRandomByRange(0,1000);									
		var ry=getRandomByRange(0,800);	//스테이지랑 비교해서 넣을것									
		
		for(var i=0; i<=3 ;i++){
		var money1 = new Money(stage2,money[r],30,15,100,200,rx,ry,0);	//이미지 		  
			document.wirte(money);
		}

		money1.init();														
	}
});

</script>
</head>
<body on>
<div id="stage">
	<div id="stage1">
		가로<input value="20" size="7">
		세로<input value="20" size="7">         
	  장애물<input value="30" size="7">
			   <input type="button" value="게임시작">
	</div>
	
	<div id="stage2"></div>
	
	<div id="stage3">
		속도<input value="0" size="7">
		점수<input value="0" size="7">
	</div>
</div>		
</body>
</html>